output {
   if [agent][type] == "winlogbeat" {
   elasticsearch {
     index => "%{[@metadata][beat]}-%{[@metadata][version]}-%{+YYYY.MM.dd}"
     hosts => ["https://es01:9200","https://es02:9200","https://es03:9200"]
     template => "/usr/share/logstash/templates/winlogbeat"
     template_name => "winlogbeat"
     template_overwrite => true
     user => "elastic"
     password => "changeme"
     cacert => "/usr/share/certificates/ca/ca.crt"
     ssl => true
    }
  }
}
output {
  if [agent][type] == "metricbeat" {
   elasticsearch {
     index => "%{[@metadata][beat]}-%{[@metadata][version]}-%{+YYYY.MM.dd}"
     hosts => ["https://es01:9200","https://es02:9200","https://es03:9200"]
     document_type => "%{[@metadata][type]}"
     manage_template => false
     user => "elastic"
     password => "changeme"
     cacert => "/usr/share/certificates/ca/ca.crt"
     ssl => true
    }
  }
}
output {
  if [agent][type] == "auditbeat" {
   elasticsearch {
     index => "%{[@metadata][beat]}-%{[@metadata][version]}-%{+YYYY.MM.dd}"
     hosts => ["https://es01:9200","https://es02:9200","https://es03:9200"]
     document_type => "%{[@metadata][type]}"
     manage_template => false
     user => "elastic"
     password => "changeme"
     cacert => "/usr/share/certificates/ca/ca.crt"
     ssl => true
    }
  }
}
output {
  if [agent][type] == "filebeat" {
   elasticsearch {
     index => "%{[@metadata][beat]}-%{[@metadata][version]}-%{+YYYY.MM.dd}"
     hosts => ["https://es01:9200","https://es02:9200","https://es03:9200"]
     document_type => "%{[@metadata][type]}"
     pipeline => "%{[@metadata][pipeline]}"
     manage_template => false
     user => "elastic"
     password => "changeme"
     cacert => "/usr/share/certificates/ca/ca.crt"
     ssl => true
    }
  }
}
